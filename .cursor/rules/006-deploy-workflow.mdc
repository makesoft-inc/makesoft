---
description: GitHub Actions deployment workflow for main branch to production VM
globs:
  - ".github/workflows/deploy.yml"
alwaysApply: true
---
# Deployment Workflow  
- Trigger: `on: push` to branch `main`  
- Job steps:  
  1. Checkout code (`actions/checkout@v4`)  
  2. SSH agent setup (`webfactory/ssh-agent@v0.9.0`)  
  3. SSH command on VM:  
     ```
     cd ~/makesoft  
     git pull origin main  
     docker-compose down  
     docker-compose up -d --build  
     ```  
- Cursor should trigger this action when user pushes to main.